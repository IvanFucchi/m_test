{"ast":null,"code":"var _jsxFileName = \"/Users/ivanfucchi/Desktop/EPICODE/progetti/capstone/musa-refactored/frontend/src/components/common/MapView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Map from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiaXZhbi1mdWNjaGkiLCJhIjoiY21iNmE1eG5zMDc2NDJtc2Eyd3ZwZWE1NCJ9.VGF2pus_hDZCwcXXg6xlsg';\nconst MapView = ({\n  center = [-74.5, 40],\n  zoom = 9,\n  markers = [],\n  onMarkerClick,\n  interactive = true,\n  style = {\n    width: '100%',\n    height: '100%'\n  }\n}) => {\n  _s();\n  const [viewState, setViewState] = useState({\n    longitude: center[0],\n    latitude: center[1],\n    zoom: zoom\n  });\n\n  // Aggiorna la vista quando cambiano le props\n  useEffect(() => {\n    setViewState({\n      longitude: center[0],\n      latitude: center[1],\n      zoom: zoom\n    });\n  }, [center, zoom]);\n  return /*#__PURE__*/_jsxDEV(Map, {\n    ...viewState,\n    onMove: evt => interactive && setViewState(evt.viewState),\n    mapStyle: \"mapbox://styles/mapbox/streets-v11\",\n    mapboxAccessToken: MAPBOX_TOKEN,\n    style: style,\n    children: markers.map(marker => {\n      // Determina il colore del marker in base al tipo e alla fonte\n      let backgroundColor;\n      let borderColor = 'transparent';\n      let borderWidth = '0';\n\n      // Colore base per il tipo di spot\n      if (marker.type === 'artwork') {\n        backgroundColor = '#3B82F6'; // Blu per opere d'arte\n      } else if (marker.type === 'venue') {\n        backgroundColor = '#8B5CF6'; // Viola per luoghi\n      } else if (marker.type === 'event') {\n        backgroundColor = '#EC4899'; // Rosa per eventi\n      } else {\n        backgroundColor = '#10B981'; // Verde per collezioni o altro\n      }\n\n      // Aggiungi bordo distintivo in base alla fonte\n      if (marker.source === 'openai') {\n        borderColor = '#F59E0B'; // Bordo arancione per risultati OpenAI\n        borderWidth = '3px';\n      } else if (marker.source === 'database') {\n        borderColor = '#06B6D4'; // Bordo azzurro per contenuti UGC\n        borderWidth = '3px';\n      }\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"marker\",\n        style: {\n          position: 'absolute',\n          left: '0',\n          top: '0',\n          transform: `translate(\n          ${viewState.longitude === marker.coordinates[0] && viewState.latitude === marker.coordinates[1] ? '-50%, -50%' : '0, 0'}\n        )`,\n          width: '24px',\n          height: '24px',\n          backgroundColor,\n          borderRadius: '50%',\n          borderColor,\n          borderStyle: 'solid',\n          borderWidth,\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          color: 'white',\n          fontWeight: 'bold',\n          cursor: 'pointer',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.2)'\n        },\n        onClick: () => onMarkerClick && onMarkerClick(marker),\n        title: `${marker.title || marker.name} (${marker.source === 'openai' ? 'AI' : 'UGC'})`,\n        children: marker.type === 'artwork' ? 'A' : marker.type === 'venue' ? 'V' : marker.type === 'event' ? 'E' : 'C'\n      }, marker.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(MapView, \"lYHvMyr7hWkMeWbWTtG/D4nW4/Q=\");\n_c = MapView;\nMapView.propTypes = {\n  center: PropTypes.array,\n  zoom: PropTypes.number,\n  markers: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    coordinates: PropTypes.array.isRequired,\n    title: PropTypes.string,\n    type: PropTypes.string\n  })),\n  onMarkerClick: PropTypes.func,\n  interactive: PropTypes.bool,\n  style: PropTypes.object\n};\nexport default MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useState","useEffect","PropTypes","Map","jsxDEV","_jsxDEV","MAPBOX_TOKEN","MapView","center","zoom","markers","onMarkerClick","interactive","style","width","height","_s","viewState","setViewState","longitude","latitude","onMove","evt","mapStyle","mapboxAccessToken","children","map","marker","backgroundColor","borderColor","borderWidth","type","source","className","position","left","top","transform","coordinates","borderRadius","borderStyle","display","justifyContent","alignItems","color","fontWeight","cursor","boxShadow","onClick","title","name","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","propTypes","array","number","arrayOf","shape","string","isRequired","func","bool","object","$RefreshReg$"],"sources":["/Users/ivanfucchi/Desktop/EPICODE/progetti/capstone/musa-refactored/frontend/src/components/common/MapView.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Map from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiaXZhbi1mdWNjaGkiLCJhIjoiY21iNmE1eG5zMDc2NDJtc2Eyd3ZwZWE1NCJ9.VGF2pus_hDZCwcXXg6xlsg';\n\nconst MapView = ({\n  center = [-74.5, 40],\n  zoom = 9,\n  markers = [],\n  onMarkerClick,\n  interactive = true,\n  style = { width: '100%', height: '100%' }\n}) => {\n  const [viewState, setViewState] = useState({\n    longitude: center[0],\n    latitude: center[1],\n    zoom: zoom\n  });\n\n  // Aggiorna la vista quando cambiano le props\n  useEffect(() => {\n    setViewState({\n      longitude: center[0],\n      latitude: center[1],\n      zoom: zoom\n    });\n  }, [center, zoom]);\n\n  return (\n    <Map\n      {...viewState}\n      onMove={evt => interactive && setViewState(evt.viewState)}\n      mapStyle=\"mapbox://styles/mapbox/streets-v11\"\n      mapboxAccessToken={MAPBOX_TOKEN}\n      style={style}\n    >\n     {markers.map(marker => {\n  // Determina il colore del marker in base al tipo e alla fonte\n  let backgroundColor;\n  let borderColor = 'transparent';\n  let borderWidth = '0';\n  \n  // Colore base per il tipo di spot\n  if (marker.type === 'artwork') {\n    backgroundColor = '#3B82F6'; // Blu per opere d'arte\n  } else if (marker.type === 'venue') {\n    backgroundColor = '#8B5CF6'; // Viola per luoghi\n  } else if (marker.type === 'event') {\n    backgroundColor = '#EC4899'; // Rosa per eventi\n  } else {\n    backgroundColor = '#10B981'; // Verde per collezioni o altro\n  }\n  \n  // Aggiungi bordo distintivo in base alla fonte\n  if (marker.source === 'openai') {\n    borderColor = '#F59E0B'; // Bordo arancione per risultati OpenAI\n    borderWidth = '3px';\n  } else if (marker.source === 'database') {\n    borderColor = '#06B6D4'; // Bordo azzurro per contenuti UGC\n    borderWidth = '3px';\n  }\n  \n  return (\n    <div\n      key={marker.id}\n      className=\"marker\"\n      style={{\n        position: 'absolute',\n        left: '0',\n        top: '0',\n        transform: `translate(\n          ${viewState.longitude === marker.coordinates[0] && viewState.latitude === marker.coordinates[1] ? '-50%, -50%' : '0, 0'}\n        )`,\n        width: '24px',\n        height: '24px',\n        backgroundColor,\n        borderRadius: '50%',\n        borderColor,\n        borderStyle: 'solid',\n        borderWidth,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        color: 'white',\n        fontWeight: 'bold',\n        cursor: 'pointer',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.2)'\n      }}\n      onClick={() => onMarkerClick && onMarkerClick(marker)}\n      title={`${marker.title || marker.name} (${marker.source === 'openai' ? 'AI' : 'UGC'})`}\n    >\n      {marker.type === 'artwork' ? 'A' : marker.type === 'venue' ? 'V' : marker.type === 'event' ? 'E' : 'C'}\n    </div>\n  );\n})}\n\n    </Map>\n  );\n};\n\nMapView.propTypes = {\n  center: PropTypes.array,\n  zoom: PropTypes.number,\n  markers: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      coordinates: PropTypes.array.isRequired,\n      title: PropTypes.string,\n      type: PropTypes.string\n    })\n  ),\n  onMarkerClick: PropTypes.func,\n  interactive: PropTypes.bool,\n  style: PropTypes.object\n};\n\nexport default MapView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}